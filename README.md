# 3D-Motion-Capture

# The Boundless Potential of 3D Motion Capture in Virtual Idol Creation

In today's digital landscape, the phenomenon of virtual idol creation has surged in popularity, offering users an immersive and interactive experience across various platforms. Through the utilization of cutting-edge technology, specifically 3D Motion Capture facilitated by Normal Webcams and Computer Vision libraries like OpenCV, we embark on a thrilling adventure into the realm of virtual idol production.

## 1. Dynamic Motion Capture

Harnessing the capabilities of 3D Motion Capture, users can now seamlessly capture dynamic movements utilizing a standard webcam. This breakthrough technology enables the creation of lifelike animations and gestures, imbuing virtual idols with depth and realism.

## 2. Personalized Customization

Our platform offers a myriad of tools for extensive customization and personalization. Users have the freedom to tailor the appearance, gestures, and expressions of their virtual idols, reflecting their individual personality and unique style.

## 3. Diverse Applications

From crafting mesmerizing music videos to hosting captivating livestreams, the versatility of virtual idol creation knows no bounds. Our platform empowers users to explore a plethora of creative avenues, whether for entertainment, educational purposes, or personal enjoyment.

## 4. Engaging Community

Join a vibrant community of creators and enthusiasts passionate about the art of virtual idol creation. Share your creations, collaborate with fellow enthusiasts, and stay abreast of the latest trends and techniques in the ever-evolving world of virtual entertainment.

In summary, the integration of 3D Motion Capture technology revolutionizes the landscape of virtual idol creation, opening up a realm of endless possibilities. With our platform, users can unleash their creativity and breathe life into their virtual idols in unprecedented ways. Embark on this exhilarating journey with us as we pave the way for the future of entertainment and creativity.

## How to work:
### Python Program in PyCharm:
### Code
cap = cv2.VideoCapture('Video.mp4')
detector = PoseDetector()
posList = []

while True:
    success, img = cap.read()

    # Exit loop if video frame is not read successfully
    if not success:
        break

    img = detector.findPose(img)
    lmList, bboxInfo = detector.findPosition(img, bboxWithHands=False)

    # Check if lmList is empty
    if not lmList:
        print("No landmarks detected!")

    if bboxInfo:
        frame_pos_list = []
        for lm in lmList:
            # Ensure lm has at least 3 elements (x, y, z)
            if len(lm) >= 3:
                # Extract x, y, and z coordinates
                x, y, z = lm[:3]
                # Append to frame_pos_list
                frame_pos_list.extend([x, y, z])

        # Convert frame_pos_list to comma-separated string
        frame_pos_str = ','.join(map(str, frame_pos_list))

        # Append frame_pos_str to posList
        posList.append(frame_pos_str)

        print(len(posList))

    cv2.imshow("Image", img)

    # Capture key press
    key = cv2.waitKey(1)

    # Break loop on 'q' key press
    if key & 0xFF == ord('q'):
        break
    # Save data on 's' key press
    elif key & 0xFF == ord('s'):
        with open("AnimationFile.txt", 'w') as f:
            f.writelines("%s\n" % item for item in posList)
        print("Data saved to AnimationFile.txt")


#### How it works:
- Utilizes the OpenCV library to read video and detect coordinates of key points on the human body.
- Coordinates are stored in a list and written to the AnimationFile.txt file.
- Each line in the file contains coordinates of key points in a video frame.

#### Applications:
- Performs Motion Capture from a video recorded using a standard webcam.

### C# Source Code in Unity:
### Code:

    void Update()
    {
        string[] points = lines[counter].Split(',');

        for(int i = 0; i <=32; i++) 
        {
            float x = float.Parse(points[0 + (i * 3)]) / 100;
            float y = float.Parse(points[1 + (i * 3)]) / 100;
            float z = float.Parse(points[2 + (i * 3)]) / 300;
            Body[i].transform.localPosition = new Vector3(x, -y, z);
        }
        
        counter += 1;
        if (counter == lines.Count) {  counter = 0; }
        Thread.Sleep(30);

#### How it works:
- Uses Unity to create a 3D environment and display objects.
- Reads data from the AnimationFile.txt file generated by the Python program.
- Each frame, it updates the position of objects in the 3D environment based on the positional data from the file.

#### Applications:
- Replicates human body movements from Motion Capture data in Unity into 3D.
